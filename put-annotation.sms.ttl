# baseURI: http://metromap.politie.org/put-annotation
# imports: http://topbraid.org/sparqlmotionfunctions
# imports: http://topbraid.org/sparqlmotionlib-tb
# imports: http://uispin.org/swon
# prefix: put-annotation

@prefix arg: <http://spinrdf.org/arg#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix put-annotation: <http://metromap.politie.org/put-annotation#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sm: <http://topbraid.org/sparqlmotion#> .
@prefix sml: <http://topbraid.org/sparqlmotionlib#> .
@prefix sp: <http://spinrdf.org/sp#> .
@prefix spif: <http://spinrdf.org/spif#> .
@prefix spin: <http://spinrdf.org/spin#> .
@prefix spl: <http://spinrdf.org/spl#> .
@prefix swon: <http://uispin.org/swon#> .
@prefix ui: <http://uispin.org/ui#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://archimate.politie.nl/instances#r-2-2>
  rdfs:comment "test" ;
.
<http://metromap.politie.org/put-annotation>
  a owl:Ontology ;
  owl:imports <http://topbraid.org/sparqlmotionfunctions> ;
  owl:imports <http://topbraid.org/sparqlmotionlib-tb> ;
  owl:imports <http://uispin.org/swon> ;
  owl:versionInfo "Created with TopBraid Composer" ;
.
put-annotation:ImportRDFFromWorkspace_1
  a sml:ImportRDFFromWorkspace ;
  sm:next put-annotation:ReturnSWPDocument_2 ;
  sm:nodeX 285 ;
  sm:nodeY 487 ;
  sml:baseURI [
      a sp:concat ;
      sp:arg1 "urn:x-evn-master:" ;
      sp:arg2 [
          sp:varName "workspace" ;
        ] ;
    ] ;
  sml:ignoreImports false ;
  rdfs:label "Import RDFFrom workspace 1" ;
.
put-annotation:ReturnSWPDocument_1
  a sml:ReturnSWPDocument ;
  sm:nodeX 678 ;
  sm:nodeY 798 ;
  sml:snippet true ;
  sml:view [
      a swon:Object ;
      ui:child [
          a swon:Value ;
          arg:name "status" ;
          arg:value "done" ;
          ui:childIndex 0 ;
        ] ;
    ] ;
  rdfs:label "Return SWPDocument 1" ;
.
put-annotation:ReturnSWPDocument_2
  a sml:ReturnSWPDocument ;
  sm:nodeX 310 ;
  sm:nodeY 806 ;
  sml:snippet true ;
  sml:view [
      a ui:group ;
    ] ;
  sml:view [
      a ui:group ;
      <http://uispin.org/let#graphURI> [
          a sp:iri ;
          sp:arg1 [
              a sp:concat ;
              sp:arg1 "urn:x-evn-master:" ;
              sp:arg2 [
                  a sp:lcase ;
                  sp:arg1 [
                      sp:varName "workspace" ;
                    ] ;
                ] ;
            ] ;
        ] ;
      ui:child [
          a ui:TextNode ;
          ui:childIndex 1 ;
          ui:text """
	done!
""" ;
        ] ;
      ui:child [
          a ui:setContext ;
          ui:child [
              a ui:update ;
              ui:childIndex 0 ;
              ui:updateQuery [
                  a sp:Modify ;
                  sp:insertPattern (
                      [
                        a sp:NamedGraph ;
                        sp:elements (
                            [
                              sp:object [
                                  sp:varName "annotation" ;
                                ] ;
                              sp:predicate rdfs:comment ;
                              sp:subject [
                                  sp:varName "s" ;
                                ] ;
                            ]
                          ) ;
                        sp:graphNameNode [
                            sp:varName "graphURI" ;
                          ] ;
                      ]
                    ) ;
                  sp:where (
                      [
                        a sp:NamedGraph ;
                        sp:elements (
                            [
                              sp:object [
                                  sp:varName "station" ;
                                ] ;
                              sp:predicate rdfs:label ;
                              sp:subject [
                                  sp:varName "s" ;
                                ] ;
                            ]
                          ) ;
                        sp:graphNameNode [
                            sp:varName "graphURI" ;
                          ] ;
                      ]
                    ) ;
                ] ;
            ] ;
          ui:childIndex 0 ;
          ui:queryGraph [
              a ui:graphWithImports ;
              sp:arg1 [
                  sp:varName "graphURI" ;
                ] ;
            ] ;
        ] ;
    ] ;
  rdfs:label "Return SWPDocument 2" ;
.
put-annotation:Services_annotation
  a ui:Service ;
  spin:constraint [
      a spl:Argument ;
      spl:defaultValue "aangifte" ;
      spl:predicate arg:station ;
      spl:valueType xsd:string ;
      sm:next put-annotation:ImportRDFFromWorkspace_1 ;
      sm:nodeX 935 ;
      sm:nodeY 51 ;
    ] ;
  spin:constraint [
      a spl:Argument ;
      spl:defaultValue "archimate_example_model" ;
      spl:predicate arg:workspace ;
      spl:valueType xsd:string ;
      sm:next put-annotation:ImportRDFFromWorkspace_1 ;
      sm:nodeX 461 ;
      sm:nodeY 37 ;
    ] ;
  spin:constraint [
      a spl:Argument ;
      spl:defaultValue "removeme4" ;
      spl:predicate arg:annotation ;
      spl:valueType xsd:string ;
      sm:next put-annotation:ImportRDFFromWorkspace_1 ;
      sm:nodeX 27 ;
      sm:nodeY 48 ;
    ] ;
  ui:responseType ui:TEXT ;
  rdfs:label "Services annotation" ;
  rdfs:subClassOf ui:Services ;
.
